# üì° PulDor API - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä API](#–æ–±–∑–æ—Ä-api)
2. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
3. [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏](#–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
4. [–§–∏–Ω–∞–Ω—Å—ã](#—Ñ–∏–Ω–∞–Ω—Å—ã)
5. [–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç](#–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π-–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç)
6. [–ê–Ω–∞–ª–∏—Ç–∏–∫–∞](#–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
7. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
8. [Rate Limiting](#rate-limiting)
9. [Best Practices](#best-practices)
10. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

---

## üéØ –û–±–∑–æ—Ä API

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**Base URL:** `http://localhost:8000/api` (development)  
**Production URL:** `https://api.puldor.com/api`  
**API Version:** `v1`  
**Content-Type:** `application/json`  
**Authentication:** JWT Token-based (Bearer Token)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

PulDor API –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ RESTful –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω—ã–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:

- ü§ñ **–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏–∑ —Ç–µ–∫—Å—Ç–∞ –∏ –≥–æ–ª–æ—Å–∞
- üí± **–ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç–∏** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ UZS, USD, EUR —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π
- üåç **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏** - —Ä—É—Å—Å–∫–∏–π, —É–∑–±–µ–∫—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∏** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

–í—Å–µ —É—Å–ø–µ—à–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "success": true,
  "message": "–û–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è",
  "data": {
    // –î–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞
  }
}
```

–û—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
    "details": {
      // –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏
    }
  }
}
```

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### POST `/users/telegram_auth/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Telegram ID. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º Telegram ID —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—å. –ï—Å–ª–∏ –Ω–µ—Ç - —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ø—É–±–ª–∏—á–Ω—ã–π endpoint)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —è–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `ru`
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–∞–ª—é—Ç—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `UZS`
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `Asia/Tashkent`

**HTTP Method:** `POST`

**Authentication:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

**Request Headers:**
```
Content-Type: application/json
```

**Request Body:**
```json
{
  "telegram_id": 123456789
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `telegram_id` | integer | –î–∞ | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º –±–æ–ª—å—à–µ 0. |

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- `telegram_id` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `1`
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `9223372036854775807` (64-bit integer)

**Response (200 OK - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):**
```json
{
  "success": true,
  "message": "Authentication successful",
  "data": {
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "telegram_id": 123456789,
    "is_active": true,
    "language": "ru",
    "currency": "UZS",
    "timezone": "Asia/Tashkent",
    "created_at": "2024-01-01T00:00:00Z",
    "created": false,
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
  }
}
```

**Response (201 Created - –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):**
```json
{
  "success": true,
  "message": "Authentication successful",
  "data": {
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "telegram_id": 123456789,
    "is_active": true,
    "language": "ru",
    "currency": "UZS",
    "timezone": "Asia/Tashkent",
    "created_at": "2024-01-01T12:00:00Z",
    "created": true,
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
  }
}
```

**Response Fields:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `user_id` | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ |
| `telegram_id` | integer | Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `is_active` | boolean | –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `language` | string | –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: `ru`, `uz`, `en` |
| `currency` | string | –û—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞: `UZS`, `USD`, `EUR` |
| `timezone` | string | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `created_at` | datetime | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ (ISO 8601) |
| `created` | boolean | `true` –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω, `false` –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π |
| `token` | string | JWT —Ç–æ–∫–µ–Ω –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |

**–û—à–∏–±–∫–∏:**

**400 Bad Request - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π telegram_id:**
```json
{
  "telegram_id": [
    "This field is required."
  ]
}
```

**400 Bad Request - –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π telegram_id:**
```json
{
  "telegram_id": [
    "Telegram ID must be positive"
  ]
}
```

**500 Internal Server Error:**
```json
{
  "success": false,
  "message": "Authentication failed",
  "error": "Database connection error"
}
```

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

**cURL:**
```bash
curl -X POST http://localhost:8000/api/users/telegram_auth/ \
  -H "Content-Type: application/json" \
  -d '{"telegram_id": 123456789}'
```

**Python (requests):**
```python
import requests

response = requests.post(
    'http://localhost:8000/api/users/telegram_auth/',
    json={'telegram_id': 123456789}
)
data = response.json()
token = data['data']['token']
```

**JavaScript (fetch):**
```javascript
const response = await fetch('http://localhost:8000/api/users/telegram_auth/', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({ telegram_id: 123456789 })
});

const data = await response.json();
const token = data.data.token;
```

---

## üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### GET `/users/me/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, –≤–∫–ª—é—á–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —è–∑—ã–∫–∞, –≤–∞–ª—é—Ç—ã –∏ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞.

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Headers:**
```
Authorization: Bearer {token}
Content-Type: application/json
```

**Query Parameters:** –ù–µ—Ç

**Response (200 OK):**
```json
{
  "user_id": "550e8400-e29b-41d4-a716-446655440000",
  "telegram_id": 123456789,
  "is_active": true,
  "language": "ru",
  "currency": "UZS",
  "timezone": "Asia/Tashkent",
  "created_at": "2024-01-01T00:00:00Z",
  "updated_at": "2024-01-15T10:30:00Z"
}
```

**Response Fields:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `user_id` | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `telegram_id` | integer | Telegram ID |
| `is_active` | boolean | –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ |
| `language` | string | –¢–µ–∫—É—â–∏–π —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ |
| `currency` | string | –û—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `timezone` | string | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å |
| `created_at` | datetime | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ |
| `updated_at` | datetime | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–û—à–∏–±–∫–∏:**

**401 Unauthorized:**
```json
{
  "detail": "Authentication credentials were not provided."
}
```

**401 Unauthorized - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω:**
```json
{
  "detail": "Given token not valid for any token type"
}
```

---

### POST `/users/set_language/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏: —Ä—É—Å—Å–∫–∏–π (`ru`), —É–∑–±–µ–∫—Å–∫–∏–π (`uz`), –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (`en`). –ò–∑–º–µ–Ω–µ–Ω–∏–µ —è–∑—ã–∫–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã API –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞.

**HTTP Method:** `POST`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Headers:**
```
Authorization: Bearer {token}
Content-Type: application/json
```

**Request Body:**
```json
{
  "language": "ru"
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `language` | string | –î–∞ | –ö–æ–¥ —è–∑—ã–∫–∞. –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `ru`, `uz`, `en` |

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- `language` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑: `ru`, `uz`, `en`
- –†–µ–≥–∏—Å—Ç—Ä –Ω–µ –≤–∞–∂–µ–Ω (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ –Ω–∏–∂–Ω–µ–º—É)

**Response (200 OK):**
```json
{
  "success": true,
  "message": "Language updated successfully",
  "data": {
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "language": "uz",
    "updated_at": "2024-01-15T10:30:00Z"
  }
}
```

**–û—à–∏–±–∫–∏:**

**400 Bad Request - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —è–∑—ã–∫:**
```json
{
  "language": [
    "Invalid language code. Must be one of: ru, uz, en"
  ]
}
```

**400 Bad Request - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä:**
```json
{
  "language": [
    "This field is required."
  ]
}
```

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

**cURL:**
```bash
curl -X POST http://localhost:8000/api/users/set_language/ \
  -H "Authorization: Bearer {token}" \
  -H "Content-Type: application/json" \
  -d '{"language": "uz"}'
```

---

### POST `/users/set_currency/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ò–∑–º–µ–Ω–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –≤–∞–ª—é—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∞–ª—é—Ç—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã: —É–∑–±–µ–∫—Å–∫–∏–π —Å—É–º (`UZS`), –¥–æ–ª–ª–∞—Ä –°–®–ê (`USD`), –µ–≤—Ä–æ (`EUR`).

**HTTP Method:** `POST`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Headers:**
```
Authorization: Bearer {token}
Content-Type: application/json
```

**Request Body:**
```json
{
  "currency": "USD"
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `currency` | string | –î–∞ | –ö–æ–¥ –≤–∞–ª—é—Ç—ã. –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `UZS`, `USD`, `EUR` |

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- `currency` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑: `UZS`, `USD`, `EUR`
- –†–µ–≥–∏—Å—Ç—Ä –Ω–µ –≤–∞–∂–µ–Ω (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ –≤–µ—Ä—Ö–Ω–µ–º—É)

**Response (200 OK):**
```json
{
  "success": true,
  "message": "Currency updated successfully",
  "data": {
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "currency": "USD",
    "updated_at": "2024-01-15T10:30:00Z"
  }
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–∞–ª—é—Ç—ã –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–π –≤–∞–ª—é—Ç–µ
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ
- –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ CBU API

**–û—à–∏–±–∫–∏:**

**400 Bad Request - –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è –≤–∞–ª—é—Ç–∞:**
```json
{
  "currency": [
    "Invalid currency code. Must be one of: UZS, USD, EUR"
  ]
}
```

---

## üí∞ –§–∏–Ω–∞–Ω—Å—ã

### POST `/finance/expense/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–∞—Å—Ö–æ–¥. Endpoint –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:

1. **–†—É—á–Ω–æ–π —Ä–µ–∂–∏–º:** –£–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —è–≤–Ω–æ (amount, currency, category_name)
2. **NLP —Ä–µ–∂–∏–º:** –ü–µ—Ä–µ–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ description, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ—á–µ—Ç —Å—É–º–º—É, –≤–∞–ª—é—Ç—É –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —á–µ—Ä–µ–∑ AI

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ NLP –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø–∏—Å–∞–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º, —É–∑–±–µ–∫—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∞–ª—é—Ç –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–∞–ª—é—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ AI –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä

**HTTP Method:** `POST`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Headers:**
```
Authorization: Bearer {token}
Content-Type: application/json
```

**Request Body (–†—É—á–Ω–æ–π —Ä–µ–∂–∏–º):**
```json
{
  "description": "–û–±–µ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ",
  "amount": 50000.00,
  "currency": "UZS",
  "category_name": "–ï–¥–∞"
}
```

**Request Body (NLP —Ä–µ–∂–∏–º):**
```json
{
  "description": "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å—Ç–æ —Ç—ã—Å—è—á —Å—É–º –Ω–∞ –µ–¥—É –≤ –ú–∞–∫–¥–æ–Ω–∞–ª–¥—Å"
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `description` | string | –î–∞ | –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞. –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—É–º–º—É, –≤–∞–ª—é—Ç—É –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è. –ú–∞–∫—Å–∏–º—É–º 500 —Å–∏–º–≤–æ–ª–æ–≤. |
| `amount` | decimal | –ù–µ—Ç | –°—É–º–º–∞ —Ä–∞—Å—Ö–æ–¥–∞. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –±—É–¥–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∞ –∏–∑ description —á–µ—Ä–µ–∑ NLP. –§–æ—Ä–º–∞—Ç: –¥–æ 15 —Ü–∏—Ñ—Ä, 2 –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π. |
| `currency` | string | –ù–µ—Ç | –í–∞–ª—é—Ç–∞: `UZS`, `USD`, `EUR`. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –±—É–¥–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∞ –∏–∑ description –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≤–∞–ª—é—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. |
| `category_name` | string | –ù–µ—Ç | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ AI –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ description. |

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- `description` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –º–∞–∫—Å–∏–º—É–º 500 —Å–∏–º–≤–æ–ª–æ–≤
- `amount` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º, –º–∏–Ω–∏–º—É–º 0.01
- `currency` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑: `UZS`, `USD`, `EUR`
- `category_name` –º–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤

**Response (201 Created):**
```json
{
  "success": true,
  "message": "Expense created successfully",
  "data": {
    "id": "660e8400-e29b-41d4-a716-446655440000",
    "amount": 100000.00,
    "currency": "UZS",
    "exchange_rate": 1.0,
    "converted_amount": 100000.00,
    "base_currency": "UZS",
    "category_name": "–ï–¥–∞",
    "description": "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å—Ç–æ —Ç—ã—Å—è—á —Å—É–º –Ω–∞ –µ–¥—É –≤ –ú–∞–∫–¥–æ–Ω–∞–ª–¥—Å",
    "timestamp": "2024-01-15T12:30:00Z"
  }
}
```

**Response Fields:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–∞—Å—Ö–æ–¥–∞ |
| `amount` | decimal | –°—É–º–º–∞ —Ä–∞—Å—Ö–æ–¥–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–π –≤–∞–ª—é—Ç–µ |
| `currency` | string | –í–∞–ª—é—Ç–∞ —Ä–∞—Å—Ö–æ–¥–∞ |
| `exchange_rate` | decimal | –ö—É—Ä—Å –æ–±–º–µ–Ω–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è (–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞–ª—é—Ç–µ) |
| `converted_amount` | decimal | –°—É–º–º–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞–ª—é—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `base_currency` | string | –û—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `category_name` | string | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `description` | string | –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞ |
| `timestamp` | datetime | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è (ISO 8601) |

**–ü—Ä–∏–º–µ—Ä—ã NLP –æ–±—Ä–∞–±–æ—Ç–∫–∏:**

**–†—É—Å—Å–∫–∏–π —è–∑—ã–∫:**
```json
// Input
{
  "description": "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å—Ç–æ —Ç—ã—Å—è—á —Å—É–º –Ω–∞ –µ–¥—É"
}

// Output - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ—á–µ–Ω–æ:
{
  "amount": 100000.00,
  "currency": "UZS",
  "category": "–ï–¥–∞"
}
```

**–£–∑–±–µ–∫—Å–∫–∏–π —è–∑—ã–∫:**
```json
// Input
{
  "description": "yuz ming so'm ovqatga sarfladim"
}

// Output:
{
  "amount": 100000.00,
  "currency": "UZS",
  "category": "–ï–¥–∞"
}
```

**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫:**
```json
// Input
{
  "description": "spent one hundred thousand som on food"
}

// Output:
{
  "amount": 100000.00,
  "currency": "UZS",
  "category": "–ï–¥–∞"
}
```

**–û—à–∏–±–∫–∏:**

**400 Bad Request - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```json
{
  "description": [
    "This field is required."
  ]
}
```

**400 Bad Request - –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞:**
```json
{
  "amount": [
    "Amount must be positive"
  ]
}
```

**400 Bad Request - –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è –≤–∞–ª—é—Ç–∞:**
```json
{
  "currency": [
    "Invalid currency. Must be one of: UZS, USD, EUR"
  ]
}
```

**500 Internal Server Error - –û—à–∏–±–∫–∞ NLP –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
```json
{
  "success": false,
  "message": "Failed to create expense",
  "error": "NLP parsing failed: Unable to extract amount from description"
}
```

---

### GET `/finance/expenses/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Headers:**
```
Authorization: Bearer {token}
```

**Query Parameters:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `page` | integer | –ù–µ—Ç | –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1) |
| `page_size` | integer | –ù–µ—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10, –º–∞–∫—Å–∏–º—É–º: 100) |
| `currency` | string | –ù–µ—Ç | –§–∏–ª—å—Ç—Ä –ø–æ –≤–∞–ª—é—Ç–µ (`UZS`, `USD`, `EUR`) |
| `date_from` | date | –ù–µ—Ç | –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç: `YYYY-MM-DD`) |
| `date_to` | date | –ù–µ—Ç | –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç: `YYYY-MM-DD`) |
| `category` | string | –ù–µ—Ç | –§–∏–ª—å—Ç—Ä –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `ordering` | string | –ù–µ—Ç | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: `-timestamp` (–Ω–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞), `timestamp` (—Å—Ç–∞—Ä—ã–µ —Å–Ω–∞—á–∞–ª–∞), `-amount` (–ø–æ —Å—É–º–º–µ) |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```
GET /api/finance/expenses/?page=1&page_size=20&currency=UZS&date_from=2024-01-01&date_to=2024-01-31&ordering=-timestamp
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": [
    {
      "id": "660e8400-e29b-41d4-a716-446655440000",
      "amount": 100000.00,
      "currency": "UZS",
      "exchange_rate": 1.0,
      "converted_amount": 100000.00,
      "base_currency": "UZS",
      "category_name": "–ï–¥–∞",
      "description": "–û–±–µ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ",
      "timestamp": "2024-01-15T12:30:00Z"
    },
    {
      "id": "770e8400-e29b-41d4-a716-446655440001",
      "amount": 50000.00,
      "currency": "UZS",
      "exchange_rate": 1.0,
      "converted_amount": 50000.00,
      "base_currency": "UZS",
      "category_name": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
      "description": "–¢–∞–∫—Å–∏ –¥–æ —Ä–∞–±–æ—Ç—ã",
      "timestamp": "2024-01-14T08:15:00Z"
    }
  ],
  "pagination": {
    "count": 25,
    "page": 1,
    "page_size": 20,
    "total_pages": 2,
    "next": "http://localhost:8000/api/finance/expenses/?page=2",
    "previous": null
  }
}
```

**–û—à–∏–±–∫–∏:**

**400 Bad Request - –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è –¥–∞—Ç–∞:**
```json
{
  "date_from": [
    "Date has wrong format. Use one of these formats instead: YYYY-MM-DD."
  ]
}
```

---

### GET `/finance/expenses/{expense_id}/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ä–∞—Å—Ö–æ–¥–µ.

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Path Parameters:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `expense_id` | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–∞—Å—Ö–æ–¥–∞ |

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "id": "660e8400-e29b-41d4-a716-446655440000",
    "amount": 100000.00,
    "currency": "UZS",
    "exchange_rate": 1.0,
    "converted_amount": 100000.00,
    "base_currency": "UZS",
    "category_name": "–ï–¥–∞",
    "description": "–û–±–µ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ",
    "timestamp": "2024-01-15T12:30:00Z"
  }
}
```

**–û—à–∏–±–∫–∏:**

**404 Not Found:**
```json
{
  "detail": "Not found."
}
```

**403 Forbidden - –î–æ—Å—Ç—É–ø –∫ —á—É–∂–æ–º—É —Ä–∞—Å—Ö–æ–¥—É:**
```json
{
  "detail": "You do not have permission to perform this action."
}
```

---

### PATCH `/finance/expenses/{expense_id}/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–∞—Å—Ö–æ–¥. –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Ä–∞—Å—Ö–æ–¥—ã.

**HTTP Method:** `PATCH`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Body:**
```json
{
  "amount": 75000.00,
  "description": "–û–±–µ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)"
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "message": "Expense updated successfully",
  "data": {
    "id": "660e8400-e29b-41d4-a716-446655440000",
    "amount": 75000.00,
    "currency": "UZS",
    "category_name": "–ï–¥–∞",
    "description": "–û–±–µ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)",
    "timestamp": "2024-01-15T12:30:00Z"
  }
}
```

---

### DELETE `/finance/expenses/{expense_id}/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–£–¥–∞–ª–∏—Ç—å —Ä–∞—Å—Ö–æ–¥. –û–ø–µ—Ä–∞—Ü–∏—è –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞.

**HTTP Method:** `DELETE`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Response (204 No Content):**
```
(–ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞)
```

---

### POST `/finance/income/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –¥–æ—Ö–æ–¥. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ä–∞—Å—Ö–æ–¥–∞–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç NLP –æ–±—Ä–∞–±–æ—Ç–∫—É –æ–ø–∏—Å–∞–Ω–∏—è.

**HTTP Method:** `POST`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Body:**
```json
{
  "description": "–ø–æ–ª—É—á–∏–ª –∑–∞—Ä–ø–ª–∞—Ç—É –¥–µ—Å—è—Ç—å —Ç—ã—Å—è—á –¥–æ–ª–ª–∞—Ä–æ–≤",
  "source": "salary"
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `description` | string | –î–∞ | –û–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ |
| `amount` | decimal | –ù–µ—Ç | –°—É–º–º–∞ –¥–æ—Ö–æ–¥–∞ |
| `currency` | string | –ù–µ—Ç | –í–∞–ª—é—Ç–∞ |
| `source` | string | –ù–µ—Ç | –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–æ—Ö–æ–¥–∞: `salary`, `business`, `investment`, `other` |

**Response (201 Created):**
```json
{
  "success": true,
  "message": "Income created successfully",
  "data": {
    "id": "880e8400-e29b-41d4-a716-446655440000",
    "amount": 10000.00,
    "currency": "USD",
    "exchange_rate": 12450.00,
    "converted_amount": 124500000.00,
    "base_currency": "UZS",
    "category_name": "–ó–∞—Ä–ø–ª–∞—Ç–∞",
    "description": "–ø–æ–ª—É—á–∏–ª –∑–∞—Ä–ø–ª–∞—Ç—É –¥–µ—Å—è—Ç—å —Ç—ã—Å—è—á –¥–æ–ª–ª–∞—Ä–æ–≤",
    "source": "salary",
    "source_display": "–ó–∞—Ä–ø–ª–∞—Ç–∞",
    "timestamp": "2024-01-15T09:00:00Z"
  }
}
```

---

### GET `/finance/incomes/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Ö–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Query Parameters:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `/finance/expenses/`

---

### GET `/finance/categories/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–∞—Å—Ö–æ–¥—ã –∏ –¥–æ—Ö–æ–¥—ã).

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Response (200 OK):**
```json
{
  "success": true,
  "data": [
    {
      "id": "990e8400-e29b-41d4-a716-446655440000",
      "name_ru": "–ï–¥–∞",
      "name_uz": "Ovqat",
      "name_en": "Food",
      "type": "expense",
      "created_at": "2024-01-01T00:00:00Z"
    },
    {
      "id": "aa0e8400-e29b-41d4-a716-446655440001",
      "name_ru": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
      "name_uz": "Transport",
      "name_en": "Transport",
      "type": "expense",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}
```

---

### POST `/finance/goals/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Ü–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–∫–æ–ø–∏—Ç—å –Ω–∞ –º–∞—à–∏–Ω—É, –æ—Ç–ø—É—Å–∫ –∏ —Ç.–¥.).

**HTTP Method:** `POST`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Body:**
```json
{
  "title": "–ú–∞—à–∏–Ω–∞",
  "target_amount": 50000000.00,
  "currency": "UZS",
  "deadline": "2025-12-31"
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `title` | string | –î–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏ (–º–∞–∫—Å–∏–º—É–º 200 —Å–∏–º–≤–æ–ª–æ–≤) |
| `target_amount` | decimal | –î–∞ | –¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞ (–º–∏–Ω–∏–º—É–º 0.01) |
| `currency` | string | –î–∞ | –í–∞–ª—é—Ç–∞: `UZS`, `USD`, `EUR` |
| `category_id` | UUID | –ù–µ—Ç | ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| `deadline` | date | –ù–µ—Ç | –°—Ä–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏ (—Ñ–æ—Ä–º–∞—Ç: `YYYY-MM-DD`) |

**Response (201 Created):**
```json
{
  "success": true,
  "message": "Goal created successfully",
  "data": {
    "id": "bb0e8400-e29b-41d4-a716-446655440000",
    "title": "–ú–∞—à–∏–Ω–∞",
    "target_amount": 50000000.00,
    "current_amount": 0.00,
    "currency": "UZS",
    "status": "active",
    "deadline": "2025-12-31",
    "progress_percentage": 0.0,
    "is_completed": false,
    "created_at": "2024-01-15T10:00:00Z",
    "updated_at": "2024-01-15T10:00:00Z"
  }
}
```

**Response Fields:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `progress_percentage` | decimal | –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–∏ (0-100) |
| `is_completed` | boolean | `true` –µ—Å–ª–∏ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ |
| `status` | string | –°—Ç–∞—Ç—É—Å: `active`, `completed`, `cancelled` |

---

### GET `/finance/goals/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ü–µ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

---

### PATCH `/finance/goals/{goal_id}/progress/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–î–æ–±–∞–≤–∏—Ç—å —Å—É–º–º—É –∫ —Ç–µ–∫—É—â–µ–º—É –ø—Ä–æ–≥—Ä–µ—Å—Å—É —Ü–µ–ª–∏.

**HTTP Method:** `PATCH`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Body:**
```json
{
  "amount": 1000000.00
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "message": "Goal progress updated",
  "data": {
    "id": "bb0e8400-e29b-41d4-a716-446655440000",
    "current_amount": 1000000.00,
    "progress_percentage": 2.0,
    "is_completed": false
  }
}
```

---

## ü§ñ –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç

### POST `/ai/parse_voice/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (OGG —Ñ–∞–π–ª) –∏ –∏–∑–≤–ª–µ—á—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Whisper –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ –∏ NLP –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–∫—Å—Ç–∞.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç—ã: OGG, WAV, MP3, M4A
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ (—Ä—É—Å—Å–∫–∏–π, —É–∑–±–µ–∫—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –¥–æ 5 –º–∏–Ω—É—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

**HTTP Method:** `POST`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Headers:**
```
Authorization: Bearer {token}
Content-Type: multipart/form-data
```

**Request Body (multipart/form-data):**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `audio_file` | file | –î–∞ | –ê—É–¥–∏–æ —Ñ–∞–π–ª (–º–∞–∫—Å–∏–º—É–º 10MB) |

**Response (200 OK):**
```json
{
  "success": true,
  "text": "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å—Ç–æ —Ç—ã—Å—è—á —Å—É–º –Ω–∞ –µ–¥—É",
  "raw_text": "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å—Ç–æ —Ç—ã—Å—è—á —Å—É–º –Ω–∞ –µ–¥—É",
  "language": "ru",
  "confidence": 0.95,
  "transaction": {
    "type": "expense",
    "amount": 100000.00,
    "currency": "UZS",
    "category": "–ï–¥–∞",
    "description": "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å—Ç–æ —Ç—ã—Å—è—á —Å—É–º –Ω–∞ –µ–¥—É"
  }
}
```

**Response Fields:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `text` | string | –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ |
| `raw_text` | string | –ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–∑ Whisper |
| `language` | string | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —è–∑—ã–∫: `ru`, `uz`, `en` |
| `confidence` | float | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (0.0-1.0) |
| `transaction` | object | –ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è |

**–û—à–∏–±–∫–∏:**

**400 Bad Request - –§–∞–π–ª –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω:**
```json
{
  "error": "No audio file provided"
}
```

**400 Bad Request - –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç:**
```json
{
  "error": "Unsupported audio format. Supported formats: OGG, WAV, MP3, M4A"
}
```

**413 Payload Too Large:**
```json
{
  "error": "File size exceeds maximum limit of 10MB"
}
```

**500 Internal Server Error - –û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:**
```json
{
  "success": false,
  "error": "Transcription failed: Whisper service unavailable"
}
```

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

**cURL:**
```bash
curl -X POST http://localhost:8000/api/ai/parse_voice/ \
  -H "Authorization: Bearer {token}" \
  -F "audio_file=@voice_message.ogg"
```

**Python (requests):**
```python
import requests

with open('voice_message.ogg', 'rb') as f:
    files = {'audio_file': f}
    response = requests.post(
        'http://localhost:8000/api/ai/parse_voice/',
        headers={'Authorization': f'Bearer {token}'},
        files=files
    )
    data = response.json()
```

---

### POST `/ai/parse_text/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∏–∑–≤–ª–µ—á—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π, —É–∑–±–µ–∫—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏.

**HTTP Method:** `POST`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Request Body:**
```json
{
  "text": "–ø–æ—Ç—Ä–∞—Ç–∏–ª 50000 —Å—É–º –Ω–∞ –æ–±–µ–¥",
  "test_mode": false
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `text` | string | –î–∞ | –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
| `test_mode` | boolean | –ù–µ—Ç | –ï—Å–ª–∏ `true`, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è, —Ç–æ–ª—å–∫–æ –ø–∞—Ä—Å–∏–Ω–≥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `false`) |

**Response (200 OK):**
```json
{
  "success": true,
  "parsed_transactions": [
    {
      "type": "expense",
      "amount": 50000.00,
      "currency": "UZS",
      "category": "–ï–¥–∞",
      "description": "–æ–±–µ–¥"
    }
  ],
  "created_transactions": [
    {
      "id": "cc0e8400-e29b-41d4-a716-446655440000",
      "amount": 50000.00,
      "currency": "UZS",
      "category_name": "–ï–¥–∞",
      "description": "–æ–±–µ–¥",
      "timestamp": "2024-01-15T12:00:00Z"
    }
  ]
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞:**

- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –≤–∏–¥–µ: "—Å—Ç–æ —Ç—ã—Å—è—á" ‚Üí 100000
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã: "—Å—É–º", "–¥–æ–ª–ª–∞—Ä–æ–≤", "—Ä—É–±–ª–µ–π"
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ AI –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:**

**–†—É—Å—Å–∫–∏–π:**
- "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å—Ç–æ —Ç—ã—Å—è—á —Å—É–º –Ω–∞ –µ–¥—É"
- "–ø–æ–ª—É—á–∏–ª –∑–∞—Ä–ø–ª–∞—Ç—É 2 –º–∏–ª–ª–∏–æ–Ω–∞"
- "–∫—É–ø–∏–ª –ø—Ä–æ–¥—É–∫—Ç—ã –∑–∞ 50000"

**–£–∑–±–µ–∫—Å–∫–∏–π:**
- "yuz ming so'm ovqatga sarfladim"
- "ikki million maosh oldim"

**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π:**
- "spent one hundred thousand som on food"
- "received salary 2 million"

---

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

### GET `/analytics/overview/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å –æ–±—â—É—é —Å–≤–æ–¥–∫—É –ø–æ —Ñ–∏–Ω–∞–Ω—Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –±–∞–ª–∞–Ω—Å, –æ–±—â–∏–µ –¥–æ—Ö–æ–¥—ã, —Ä–∞—Å—Ö–æ–¥—ã, –∞–∫—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏.

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Query Parameters:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `period` | string | –ù–µ—Ç | –ü–µ—Ä–∏–æ–¥: `day`, `week`, `month`, `year` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –≤—Å–µ –≤—Ä–µ–º—è) |
| `date_from` | date | –ù–µ—Ç | –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ |
| `date_to` | date | –ù–µ—Ç | –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ |

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "balance": 1540000.00,
    "currency": "UZS",
    "total_expenses": 720000.00,
    "total_incomes": 2260000.00,
    "active_goals": 3,
    "completed_goals": 1,
    "period": {
      "start": "2024-01-01",
      "end": "2024-01-31"
    }
  }
}
```

**Response Fields:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `balance` | decimal | –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å (–¥–æ—Ö–æ–¥—ã - —Ä–∞—Å—Ö–æ–¥—ã) –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞–ª—é—Ç–µ |
| `currency` | string | –û—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `total_expenses` | decimal | –û–±—â–∞—è —Å—É–º–º–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥ |
| `total_incomes` | decimal | –û–±—â–∞—è —Å—É–º–º–∞ –¥–æ—Ö–æ–¥–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥ |
| `active_goals` | integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π |
| `completed_goals` | integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π |

---

### GET `/analytics/categories/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ –∏ —Ü–≤–µ—Ç–∞–º–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (pie charts, bar charts).

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Query Parameters:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `period` | string | –ù–µ—Ç | –ü–µ—Ä–∏–æ–¥: `day`, `week`, `month`, `year` |
| `limit` | integer | –ù–µ—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10) |

**Response (200 OK):**
```json
{
  "success": true,
  "data": [
    {
      "category": "–ï–¥–∞",
      "amount": 300000.00,
      "percentage": 41.67,
      "color": "#FF6384",
      "icon": "üçî",
      "transaction_count": 15
    },
    {
      "category": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
      "amount": 200000.00,
      "percentage": 27.78,
      "color": "#36A2EB",
      "icon": "üöó",
      "transaction_count": 8
    },
    {
      "category": "–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è",
      "amount": 150000.00,
      "percentage": 20.83,
      "color": "#FFCE56",
      "icon": "üé¨",
      "transaction_count": 5
    }
  ],
  "total": 720000.00,
  "other_categories": {
    "amount": 70000.00,
    "percentage": 9.72
  }
}
```

**Response Fields:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `category` | string | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `amount` | decimal | –°—É–º–º–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `percentage` | decimal | –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–∏—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ |
| `color` | string | HEX —Ü–≤–µ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ |
| `icon` | string | –≠–º–æ–¥–∑–∏ –∏–∫–æ–Ω–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `transaction_count` | integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |

---

### GET `/analytics/goals/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –≤—Å–µ–º —Ü–µ–ª—è–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Response (200 OK):**
```json
{
  "success": true,
  "data": [
    {
      "id": "bb0e8400-e29b-41d4-a716-446655440000",
      "title": "–ú–∞—à–∏–Ω–∞",
      "target_amount": 50000000.00,
      "current_amount": 10000000.00,
      "currency": "UZS",
      "progress_percentage": 20.0,
      "is_completed": false,
      "deadline": "2025-12-31",
      "days_remaining": 350,
      "status": "active"
    }
  ]
}
```

---

### GET `/analytics/timeline/`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–¥–æ—Ö–æ–¥—ã –∏ —Ä–∞—Å—Ö–æ–¥—ã –ø–æ –¥–Ω—è–º/–Ω–µ–¥–µ–ª—è–º/–º–µ—Å—è—Ü–∞–º).

**HTTP Method:** `GET`

**Authentication:** –¢—Ä–µ–±—É–µ—Ç—Å—è (Bearer Token)

**Query Parameters:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `period` | string | –ù–µ—Ç | –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞: `day`, `week`, `month` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `day`) |
| `date_from` | date | –ù–µ—Ç | –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ |
| `date_to` | date | –ù–µ—Ç | –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ |

**Response (200 OK):**
```json
{
  "success": true,
  "data": [
    {
      "date": "2024-01-01",
      "expenses": 50000.00,
      "incomes": 0.00,
      "balance": -50000.00
    },
    {
      "date": "2024-01-02",
      "expenses": 75000.00,
      "incomes": 1000000.00,
      "balance": 875000.00
    }
  ],
  "summary": {
    "total_expenses": 125000.00,
    "total_incomes": 1000000.00,
    "net_balance": 875000.00
  }
}
```

---

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ö–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤ HTTP

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
|-----|----------|-------------------|
| `200` | OK | –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å |
| `201` | Created | –†–µ—Å—É—Ä—Å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω |
| `204` | No Content | –£—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ |
| `400` | Bad Request | –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ |
| `401` | Unauthorized | –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| `403` | Forbidden | –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ |
| `404` | Not Found | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω |
| `413` | Payload Too Large | –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π |
| `429` | Too Many Requests | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ |
| `500` | Internal Server Error | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

### –§–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–∫–∏:**
```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
    "details": {
      "field_name": ["–î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –¥–ª—è –ø–æ–ª—è"]
    }
  }
}
```

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `VALIDATION_ERROR` | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| `AUTHENTICATION_REQUIRED` | –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| `INVALID_TOKEN` | –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π –∏–ª–∏ –∏—Å—Ç–µ–∫—à–∏–π —Ç–æ–∫–µ–Ω |
| `PERMISSION_DENIED` | –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å—É |
| `NOT_FOUND` | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω |
| `DUPLICATE_ENTRY` | –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç |
| `RATE_LIMIT_EXCEEDED` | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ |
| `FILE_TOO_LARGE` | –§–∞–π–ª –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä |
| `UNSUPPORTED_FORMAT` | –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ |
| `NLP_PARSING_FAILED` | –û—à–∏–±–∫–∞ NLP –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
| `WHISPER_SERVICE_ERROR` | –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ |
| `DATABASE_ERROR` | –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |
| `CURRENCY_CONVERSION_ERROR` | –û—à–∏–±–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç |

### –ü—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ–∫

**400 Bad Request - –í–∞–ª–∏–¥–∞—Ü–∏—è:**
```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Invalid input data",
    "details": {
      "amount": [
        "This field is required.",
        "Amount must be positive"
      ],
      "currency": [
        "Invalid currency. Must be one of: UZS, USD, EUR"
      ]
    }
  }
}
```

**401 Unauthorized:**
```json
{
  "detail": "Authentication credentials were not provided."
}
```

**403 Forbidden:**
```json
{
  "detail": "You do not have permission to perform this action."
}
```

**404 Not Found:**
```json
{
  "detail": "Not found."
}
```

**429 Too Many Requests:**
```json
{
  "success": false,
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "Rate limit exceeded. Maximum 1000 requests per hour.",
    "retry_after": 3600
  }
}
```

---

## üìä Rate Limiting

### –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤

| –¢–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –õ–∏–º–∏—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------------|-------|----------|
| –ê–Ω–æ–Ω–∏–º–Ω—ã–π | 100 req/hour | –î–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö endpoints |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π | 1000 req/hour | –î–ª—è –≤—Å–µ—Ö –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö endpoints |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–∞ | 60 req/hour | –î–ª—è `/ai/parse_voice/` |

### –ó–∞–≥–æ–ª–æ–≤–∫–∏ Rate Limiting

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∏:

```
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 999
X-RateLimit-Reset: 1705312800
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞

–ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å `429 Too Many Requests` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è:

```json
{
  "success": false,
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "Rate limit exceeded",
    "retry_after": 3600
  }
}
```

---

## üí° Best Practices

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- –í—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ç–æ–∫–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ URL (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏)
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ production

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–ª–µ `success` –≤ –æ—Ç–≤–µ—Ç–µ
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### 3. –ü–∞–≥–∏–Ω–∞—Ü–∏—è

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- –ù–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ –±–æ–ª–µ–µ 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–∞ —Ä–∞–∑
- –ö—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### 4. NLP –æ–±—Ä–∞–±–æ—Ç–∫–∞

- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤–∞–ª—é—Ç—É —è–≤–Ω–æ, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `test_mode=true` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞

### 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–∞

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã
- –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 5-30 —Å–µ–∫—É–Ω–¥
- –§–æ—Ä–º–∞—Ç OGG –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –¥–ª—è Telegram

### 6. –í–∞–ª—é—Ç—ã

- –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤–∞–ª—é—Ç—É —è–≤–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –≤–∞–ª—é—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –∫—É—Ä—Å—ã –æ–±–º–µ–Ω–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–∞—Ö

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å API

**1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
```python
import requests

BASE_URL = "http://localhost:8000/api"

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
response = requests.post(
    f"{BASE_URL}/users/telegram_auth/",
    json={"telegram_id": 123456789}
)
data = response.json()
token = data['data']['token']
```

**2. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ NLP:**
```python
headers = {"Authorization": f"Bearer {token}"}

# NLP —Ä–µ–∂–∏–º - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
response = requests.post(
    f"{BASE_URL}/finance/expense/",
    headers=headers,
    json={"description": "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å—Ç–æ —Ç—ã—Å—è—á —Å—É–º –Ω–∞ –µ–¥—É"}
)
expense = response.json()['data']
```

**3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:**
```python
# –û–±—â–∞—è —Å–≤–æ–¥–∫–∞
response = requests.get(
    f"{BASE_URL}/analytics/overview/",
    headers=headers,
    params={"period": "month"}
)
overview = response.json()['data']

# –ê–Ω–∞–ª–∏–∑ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
response = requests.get(
    f"{BASE_URL}/analytics/categories/",
    headers=headers
)
categories = response.json()['data']
```

**4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–∞:**
```python
with open('voice.ogg', 'rb') as f:
    files = {'audio_file': f}
    response = requests.post(
        f"{BASE_URL}/ai/parse_voice/",
        headers=headers,
        files=files
    )
    result = response.json()
    transaction = result['transaction']
```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

### Backend Framework
- **Django 5.0.3** - –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Django REST Framework 3.15.0** - REST API
- **Gunicorn 21.2.0** - WSGI —Å–µ—Ä–≤–µ—Ä

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL 15** - –û—Å–Ω–æ–≤–Ω–∞—è –ë–î
- **Redis 7** - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–µ—Å—Å–∏–∏
- **psycopg2-binary 2.9.9** - PostgreSQL –¥—Ä–∞–π–≤–µ—Ä

### AI & Machine Learning
- **OpenAI Whisper 20240930** - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
- **Transformers 4.21.0+** - NLP –º–æ–¥–µ–ª–∏
- **PyTorch 1.12.0+** - Deep learning
- **EasyOCR 1.7.1** - OCR –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **OpenCV 4.9.0** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ
- **librosa 0.10.1** - –ê–Ω–∞–ª–∏–∑ –∞—É–¥–∏–æ
- **soundfile 0.12.1** - –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –∞—É–¥–∏–æ
- **ffmpeg-python 0.2.0** - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤
- **pydub 0.25.1** - –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å –∞—É–¥–∏–æ

### Telegram Bot
- **python-telegram-bot 21.7** - Telegram Bot API
- **aiogram 3.4.1** - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **aiohttp 3.9.3** - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **djangorestframework-simplejwt 5.3.0** - JWT —Ç–æ–∫–µ–Ω—ã

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- **django-cors-headers 4.3.1** - CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **django-filter 24.1** - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **drf-yasg 1.21.7** - Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **Pillow 10.2.0** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **NumPy 1.26.4** - –ß–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Docker & Docker Compose** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Python 3.11+** - –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Flask 3.1.1** - Whisper –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **Swagger UI:** `http://localhost:8000/swagger/`
- **Admin Panel:** `http://localhost:8000/admin/`
- **GitHub Repository:** [—Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π]
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Django:** https://docs.djangoproject.com/
- **DRF Documentation:** https://www.django-rest-framework.org/

---

<div align="center">

**üí∞ PulDor API - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏—á–Ω—ã–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ —Å –ò–ò**

[‚¨Ü –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É](#-puldor-api---–ø–æ–ª–Ω–∞—è-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

</div>

